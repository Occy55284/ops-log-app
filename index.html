<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ops Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0b1220;
      color: #f9fafb;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    .card {
      background: #020617;
      border-radius: 16px;
      padding: 24px 20px;
      max-width: 520px;
      width: 100%;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
      text-align: center;
      border: 1px solid #1f2937;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.25rem;
    }

    p {
      margin-top: 0;
      margin-bottom: 1.2rem;
      color: #9ca3af;
      font-size: 0.95rem;
    }

    .site-buttons,
    .area-buttons,
    .nav-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-bottom: 0.75rem;
    }

    button {
      flex: 1;
      padding: 10px 0;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      background: #111827;
      color: #e5e7eb;
      box-shadow: 0 0 0 1px #374151;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.1s ease;
    }

    button:hover {
      transform: translateY(-1px);
      background: #1f2937;
      box-shadow: 0 0 0 1px #60a5fa, 0 8px 25px rgba(37, 99, 235, 0.35);
    }

    .hint {
      font-size: 0.8rem;
      color: #6b7280;
      min-height: 1.3em;
    }

    .section-title {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
      margin: 1.0rem 0 0.4rem;
    }

    .divider {
      height: 1px;
      background: rgba(255,255,255,0.08);
      margin: 1.1rem 0 0.9rem;
    }

    .small-note {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.55);
      margin-top: 0.4rem;
      line-height: 1.3;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Ops Log</h1>
    <p id="subtitle">Select your site to continue.</p>

    <div class="section-title">Site</div>
    <div class="site-buttons">
      <button onclick="selectSite('London')">London</button>
      <button onclick="selectSite('Newcastle')">Newcastle</button>
    </div>

    <div id="areaSection" style="display: none; margin-top: 1rem;">
      <div class="section-title">London area</div>
      <div class="area-buttons">
        <button onclick="selectArea('Kitchen')">Kitchen</button>
        <button onclick="selectArea('Hospitality')">Hospitality</button>
        <button onclick="selectArea('Retail')">Retail</button>
      </div>
    </div>

    <div class="hint" id="message">
      (Choose your site first. London will then ask for area.)
    </div>

    <div class="divider"></div>

    <div class="section-title">Dashboards / Admin</div>
    <div class="nav-buttons">
      <button onclick="goToWeekly()">Weekly Dashboard</button>
      <button onclick="goToMonthly()">Monthly Dashboard</button>
    </div>

    <div class="nav-buttons">
      <button onclick="goToFinanceAdmin()">Monthly Finance Admin</button>
    </div>

    <div class="small-note">
      Tip: Dashboards can be opened any time. The Daily Log buttons above control the site/area saved to your device.
    </div>
  </div>

  <script>
    function selectSite(site) {
      // Store selected site
      localStorage.setItem('ops_site', site);
      // Clear any previous area
      localStorage.removeItem('ops_area');

      const message = document.getElementById('message');
      const areaSection = document.getElementById('areaSection');
      const subtitle = document.getElementById('subtitle');

      if (site === 'London') {
        subtitle.textContent = 'London selected. Now choose your area:';
        message.textContent = 'Select Kitchen, Hospitality or Retail.';
        areaSection.style.display = 'block';
      } else {
        // Newcastle: no area selection, just go straight to log
        subtitle.textContent = 'Newcastle selected.';
        message.textContent = 'Taking you to the daily log for Newcastle.';
        areaSection.style.display = 'none';

        // For Newcastle use "All" as area
        localStorage.setItem('ops_area', 'All');
        window.location.href = 'log.html';
      }
    }

    function selectArea(area) {
      // Store the chosen area for London
      localStorage.setItem('ops_area', area);
      const message = document.getElementById('message');
      message.textContent = `Area selected: ${area}. Taking you to the daily log...`;
      window.location.href = 'log.html';
    }

    // Correct filenames from your repo
    function goToWeekly() {
      window.location.href = 'dashboard.html';
    }

    function goToMonthly() {
      window.location.href = 'monthly.html';
    }

    function goToFinanceAdmin() {
      window.location.href = 'monthly-finance-admin.html';
    }
  </script>
</body>
</html>
